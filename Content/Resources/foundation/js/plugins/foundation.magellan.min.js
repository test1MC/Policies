!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("./foundation.core"),require("./foundation.core.plugin"),require("./foundation.core.utils"),require("./foundation.smoothScroll"),require("jquery")):"function"==typeof define&&define.amd?define(["./foundation.core","./foundation.core.plugin","./foundation.core.utils","./foundation.smoothScroll","jquery"],e):"object"==typeof exports?exports["foundation.magellan"]=e(require("./foundation.core"),require("./foundation.core.plugin"),require("./foundation.core.utils"),require("./foundation.smoothScroll"),require("jquery")):(t.__FOUNDATION_EXTERNAL__=t.__FOUNDATION_EXTERNAL__||{},t.__FOUNDATION_EXTERNAL__["foundation.magellan"]=e(t.__FOUNDATION_EXTERNAL__["foundation.core"],t.__FOUNDATION_EXTERNAL__["foundation.core"],t.__FOUNDATION_EXTERNAL__["foundation.core"],t.__FOUNDATION_EXTERNAL__["foundation.smoothScroll"],t.jQuery))}(window,function(o,n,i,a,r){return function(o){var n={};function i(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return o[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}return i.m=o,i.c=n,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(o,n,function(t){return e[t]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=8)}({"./foundation.core":function(t,e){t.exports=o},"./foundation.core.plugin":function(t,e){t.exports=n},"./foundation.core.utils":function(t,e){t.exports=i},"./foundation.smoothScroll":function(t,e){t.exports=a},"./js/entries/plugins/foundation.magellan.js":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Foundation",{enumerable:!0,get:function(){return n.Foundation}}),Object.defineProperty(e,"Magellan",{enumerable:!0,get:function(){return i.Magellan}});var n=o("./foundation.core"),i=o("./js/foundation.magellan.js");n.Foundation.plugin(i.Magellan,"Magellan")},"./js/foundation.magellan.js":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Magellan=void 0;var n,c=(n=o("jquery"))&&n.__esModule?n:{default:n},a=o("./foundation.core.utils"),r=o("./foundation.core.plugin"),s=o("./foundation.smoothScroll");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}var f=function(t){function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),u(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}var e,n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(o,r.Plugin),e=o,(n=[{key:"_setup",value:function(t,e){this.$element=t,this.options=c.default.extend({},o.defaults,this.$element.data(),e),this.className="Magellan",this._init(),this.calcPoints()}},{key:"_init",value:function(){var t=this.$element[0].id||(0,a.GetYoDigits)(6,"magellan");this.$targets=(0,c.default)("[data-magellan-target]"),this.$links=this.$element.find("a"),this.$element.attr({"data-resize":t,"data-scroll":t,id:t}),this.$active=(0,c.default)(),this.scrollPos=parseInt(window.pageYOffset,10),this._events()}},{key:"calcPoints",value:function(){var o=this,t=document.body,e=document.documentElement;this.points=[],this.winHeight=Math.round(Math.max(window.innerHeight,e.clientHeight)),this.docHeight=Math.round(Math.max(t.scrollHeight,t.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight)),this.$targets.each(function(){var t=(0,c.default)(this),e=Math.round(t.offset().top-o.options.threshold);t.targetPoint=e,o.points.push(e)})}},{key:"_events",value:function(){var o=this;(0,c.default)("html, body"),o.options.animationDuration,o.options.animationEasing;(0,c.default)(window).one("load",function(){o.options.deepLinking&&location.hash&&o.scrollToLoc(location.hash),o.calcPoints(),o._updateActive()}),o.onLoadListener=(0,a.onLoad)((0,c.default)(window),function(){o.$element.on({"resizeme.zf.trigger":o.reflow.bind(o),"scrollme.zf.trigger":o._updateActive.bind(o)}).on("click.zf.magellan",'a[href^="#"]',function(t){t.preventDefault();var e=o.getAttribute("href");o.scrollToLoc(e)})}),this._deepLinkScroll=function(t){o.options.deepLinking&&o.scrollToLoc(window.location.hash)},(0,c.default)(window).on("hashchange",this._deepLinkScroll)}},{key:"scrollToLoc",value:function(t){this._inTransition=!0;var e=this,o={animationEasing:this.options.animationEasing,animationDuration:this.options.animationDuration,threshold:this.options.threshold,offset:this.options.offset};s.SmoothScroll.scrollToLoc(t,o,function(){e._inTransition=!1})}},{key:"reflow",value:function(){this.calcPoints(),this._updateActive()}},{key:"_updateActive",value:function(){var o=this;if(!this._inTransition){var t,n=parseInt(window.pageYOffset,10),i=this.scrollPos>n;if((this.scrollPos=n)<this.points[0]);else if(n+this.winHeight===this.docHeight)t=this.points.length-1;else{var e=this.points.filter(function(t,e){return t-o.options.offset-(i?o.options.threshold:0)<=n});t=e.length?e.length-1:0}var a=this.$active,r="";void 0!==t?(this.$active=this.$links.filter('[href="#'+this.$targets.eq(t).data("magellan-target")+'"]'),this.$active.length&&(r=this.$active[0].getAttribute("href"))):this.$active=(0,c.default)();var s=!(!this.$active.length&&!a.length||this.$active.is(a)),l=r!==window.location.hash;if(s&&(a.removeClass(this.options.activeClass),this.$active.addClass(this.options.activeClass)),this.options.deepLinking&&l)if(window.history.pushState){var u=r||window.location.pathname+window.location.search;window.history.pushState(null,null,u)}else window.location.hash=r;s&&this.$element.trigger("update.zf.magellan",[this.$active])}}},{key:"_destroy",value:function(){if(this.$element.off(".zf.trigger .zf.magellan").find(".".concat(this.options.activeClass)).removeClass(this.options.activeClass),this.options.deepLinking){var t=this.$active[0].getAttribute("href");window.location.hash.replace(t,"")}(0,c.default)(window).off("hashchange",this._deepLinkScroll).off(this.onLoadListener)}}])&&l(e.prototype,n),i&&l(e,i),o}();(e.Magellan=f).defaults={animationDuration:500,animationEasing:"linear",threshold:50,activeClass:"is-active",deepLinking:!1,offset:0}},8:function(t,e,o){t.exports=o("./js/entries/plugins/foundation.magellan.js")},jquery:function(t,e){t.exports=r}})});
//# sourceMappingURL=foundation.magellan.min.js.map
